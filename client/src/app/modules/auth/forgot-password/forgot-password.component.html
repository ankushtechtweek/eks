<div class="card text-dark bg-white mb-2">
  <div class="card-body p-sm-3 p-2">
    <h6 class="d-flex justify-content-between align-items-center mb-0">
      <div>
        Existing User?
      </div>
      <a
        href="javascript:;"
        [routerLink]="'/auth/login'"
        class="text-blue text-decoration-none ms-sm-4"
      >Log in</a>
    </h6>
  </div>
</div>
<div class="card text-dark bg-white mb-3">
  <div class="card-body">
    <form
      class="login-form"
      [formGroup]="forgotForm"
      (ngSubmit)="onSubmit(forgotForm)"
    >
      <ng-container *ngIf="!submitted; else success">
        <div class="p-2">
          <h5 class="card-title text-blue text-center">{{submitted ? PGConstant.RESET_PASS_TITLE :
            PGConstant.FORGOT_PASS_TITLE}}</h5>
          <p
            class="text-center text-sm"
            *ngIf="!submitted"
          >{{PGConstant.FORGOT_DESC}}</p>
          <div class="mb-3">
            <label class="form-label h6">Email</label>
            <input
              type="text"
              class="form-control is-valid"
              placeholder="Enter Email"
              (input)="emailNotFound = false"
              formControlName="email"
              autofocus
              [ngClass]="{ 'is-invalid':f['email'].touched && f['email'].errors, 'is-valid': f['email'].valid}"
            >
            <div
              class="invalid-feedback"
              *ngIf="f['email'].touched && f['email'].errors"
            >
              <div *ngIf="f['email'].errors['required']">Email is required</div>
              <div *ngIf="f['email'].errors['pattern']">Email is invalid</div>
            </div>
          </div>
        </div>
        <div class="d-grid gap-2">
          <button
            class="btn btn-info rounded-pill fw-bold"
            type="submit"
          >Send Instructions</button>
          <ng-container *ngIf="emailNotFound">
            <div class="text-danger text-sm text-center mt-3">We canâ€™t find your account associated with</div>
            <div class="text-center text-sm text-blue mb-3"><a>{{f['email'].value}}</a></div>
            <div class="text-danger text-sm text-center mt-3">Need Help? Call 1-800-773-4062 or email support@propertyscout.io</div>
          </ng-container>
        </div>
      </ng-container>
      <ng-template #success>
        <div>
          <div class="text-center text-success mt-5 mb-5">
            {{PGConstant.FORGOT_SUCCESS}}
          </div>
        </div>
      </ng-template>
    </form>
  </div>
</div>
